<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>灵伴奇缘 - AI宠物陪伴游戏</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- 游戏流程区域 -->
        <div class="game-flow">
            <!-- 步骤1：地域选择 -->
            <div id="region-selection" class="step-container">
                <h2 class="step-title">选择探索地域</h2>
                <p class="step-description">
                    不同的地域栖息着独特的灵宠，选择你想要探索的区域，<br>
                    发现属于你的神奇伙伴！
                </p>
                
                <div class="region-selector">
                    <div class="region-card" data-region="mountain">
                        <div class="region-icon">
                            <i class="fas fa-mountain"></i>
                        </div>
                        <div class="region-name">昆仑山脉</div>
                        <div class="region-desc">冰雪覆盖的神秘山脉，栖息着冰系灵宠</div>
                    </div>
                    
                    <div class="region-card" data-region="forest">
                        <div class="region-icon">
                            <i class="fas fa-tree"></i>
                        </div>
                        <div class="region-name">翡翠森林</div>
                        <div class="region-desc">生机盎然的古老森林，木系灵宠的家园</div>
                    </div>
                    
                    <div class="region-card" data-region="volcano">
                        <div class="region-icon">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="region-name">熔岩火山</div>
                        <div class="region-desc">炽热活跃的火山地带，火系灵宠在此诞生</div>
                    </div>
                    
                    <div class="region-card" data-region="ocean">
                        <div class="region-icon">
                            <i class="fas fa-water"></i>
                        </div>
                        <div class="region-name">无尽海洋</div>
                        <div class="region-desc">深邃广阔的海洋世界，水系灵宠的乐园</div>
                    </div>
                    
                    <div class="region-card" data-region="desert">
                        <div class="region-icon">
                            <i class="fas fa-sun"></i>
                        </div>
                        <div class="region-name">黄金沙漠</div>
                        <div class="region-desc">炎热干燥的沙漠地带，土系灵宠的栖息地</div>
                    </div>
                    
                    <div class="region-card" data-region="sky">
                        <div class="region-icon">
                            <i class="fas fa-cloud"></i>
                        </div>
                        <div class="region-name">天空之城</div>
                        <div class="region-desc">悬浮在云端的秘境，风系灵宠在此翱翔</div>
                    </div>
                </div>
                
                <button id="explore-btn" class="btn" disabled>开始探索</button>
            </div>
            
            <!-- 步骤2：宠物发现 -->
            <div id="pet-discovery" class="step-container">
                <div class="pet-content-area">
                    <h2 class="step-title">发现神秘灵宠</h2>
                    <p class="step-description">
                        在<span id="region-name-display">昆仑山脉</span>的深处，你发现了一个神秘的灵宠身影...
                    </p>
                
                    <div class="pet-preview">
                        <div class="pet-outline">
                            <i class="fas fa-question"></i>
                        </div>
                    </div>
                
                    <div class="pet-description">
                        <h3>灵宠特征描述</h3>
                        <p id="pet-description-text">
                            正在寻找灵宠...
                        </p>
                    </div>
              </div>
  
              <div class="pet-action-area">
                <button id="catch-btn" class="btn">尝试捕捉</button>
              </div>
            </div>
            
            <!-- 步骤3：命名环节 -->
            <div id="naming-pet" class="step-container">
                <h2 class="step-title">为你的灵宠命名</h2>
                <p class="step-description">
                    恭喜你成功捕捉到这只神秘的灵宠！<br>
                    请为你的新伙伴起一个独特的名字：
                </p>
                
                <div class="name-input-container">
                    <input type="text" id="pet-name-input" class="name-input" placeholder="输入灵宠名称" maxlength="12">
                    <button id="name-confirm-btn" class="btn">确认命名</button>
                </div>
                
                <div class="generating-indicator" id="generating-indicator">
                    <div class="loading-spinner"></div>
                    <p>正在生成灵宠形象与动画，请稍候...</p>
                </div>
            </div>
            
            <!-- 步骤4：聊天界面 -->
            <div id="chat-interface" class="step-container">
                <!-- 背景视频层 -->
                <div id="background-video-placeholder"></div>

                <!-- 顶部状态栏 -->
                <div class="chat-header">
                    <div class="pet-name">
                        <i class="fas fa-paw"></i>
                        <span id="pet-name-display">未命名灵宠</span>
                    </div>

                    <!-- 状态容器 -->
                    <div class="status-wrapper">
                        <div class="status-container">
                            <!-- 第一行 -->
                            <div class="status-row">
                                <div class="status-item">
                                    <span class="status-label">体力值</span>
                                    <div class="status-bar">
                                        <div class="status-fill hunger-fill" style="width: 80%;"></div>
                                        <span class="status-text hunger-text">80%</span>
                                    </div>
                                </div>
                                <div class="status-item">
                                    <span class="status-label">生命值</span>
                                    <div class="status-bar">
                                        <div class="status-fill health-fill" style="width: 80%;"></div>
                                        <span class="status-text health-text">80%</span>
                                    </div>
                                </div>
                            </div>
                            <!-- 第二行 -->
                            <div class="status-row">
                                <div class="status-item">
                                    <span class="status-label">羁绊</span>
                                    <span class="plain-value exp-value">99999</span>
                                </div>
                                <div class="status-item">
                                    <span class="status-label">金币</span>
                                    <span class="plain-value gold-value">99999</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ✅ 等级经验栏 -->
                <div class="level-wrapper">
                <!-- 等级文本 -->
                <span class="level-text" id="level-text">灵宠 Lv.1</span>

                <!-- 等级经验条 -->
                <div class="level-bar">
                    <div class="level-fill" id="level-fill" style="width: 30%;"></div>
                    <span class="level-exp-text" id="level-exp-text">0 / 999</span>
                </div>

                <!-- 等级奖励宝箱按钮（常驻） -->
                <div class="level-reward-button" id="level-reward-btn" title="点击领取升级奖励" onclick="claimLevelReward()">
                <img src="pets/baoxiang.png" alt="等级奖励" class="reward-icon" />
                <div class="reward-text">等级奖励</div>
                </div>
                </div>

                <!-- 中部：空白 + 聊天内容 -->
                <div class="chat-main-area">
                    <!-- 空白占位区域 -->
                    <div class="chat-gap"></div>

                    <!-- 聊天内容区域 -->
                    <div class="chat-content-wrapper">
                        <div class="chat-messages" id="messages">
                            <div class="message system">
                                <div class="avatar">
                                    <i class="fas fa-dragon"></i>
                                </div>
                                <div class="content">
                                    👋 你好，主人！我是<span id="pet-name-chat">冰晶</span>，<br>
                                    感谢你为我取了这个名字！<br>
                                    我会一直陪伴你、保护你！<br>
                                    当我饿了或者受伤的时候，请记得照顾我哦～<br>
                                    让我们一起踏上奇妙的冒险旅程吧！
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 底部固定区域 -->
                <div class="chat-bottom-fixed">
                    <!-- 操作按钮 -->
                    <div id="action-buttons-container" class="action-buttons-container">
                        <!-- 按钮将在这里动态生成 -->
                    </div>

                    <!-- 输入框 -->
                    <div class="chat-input-area">
                        <div class="chat-input">
                            <input type="text" id="user-input" placeholder="和你的灵宠对话...">
                            <button id="send-btn">发送 <i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        <!-- 页脚 -->
        <footer>
            <p>© 2025 灵伴奇缘 - AI宠物陪伴游戏 | 李鹏程作品</p>
        </footer>
    </div>

    <script src="scripts.js"></script>
</body>
</html>
